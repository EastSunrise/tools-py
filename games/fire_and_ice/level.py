import time

from pykeyboard import PyKeyboard

RESERVE = 5

keyboard = PyKeyboard()


def on_backspace():
    keyboard.tap_key(keyboard.space_key)


class Step:
    """
    Each step in the level.
    :param c coefficient of the radian dividing 1Â°
    :param w angular speed
    :param s_next next step
    """

    def __init__(self, c: int, w: int, s_next=None):
        self.__c = c
        self.__w = w
        self.__next = s_next


class Level:
    """
    Level of the game.
    :param w0 the initial angular speed, degrees/second
    :param dws the data of every block, the degree of angle if the angular speed doesn't change
    or tuple of the degree and the change of the speed instead.
    """

    def __init__(self, ready, w0, dws: list):
        self.__intervals = [RESERVE, ready]
        w = w0
        for dw in dws:
            if isinstance(dw, tuple):
                w *= dw[1]
                d = dw[0]
            else:
                d = dw
            if w < 0:
                self.__intervals.append((360 - d) / (-w))
            else:
                self.__intervals.append(d / w)

    def run(self):
        for i, interval in enumerate(self.__intervals):
            on_backspace()
            print("{} sleep {} s".format(i, interval))
            time.sleep(interval)


if __name__ == '__main__':
    level1_1 = Level(2.75, 335, [
        180, 180, 180, 180, 180, 180, 180, 180, 180
    ])
    level1_2 = Level(2.75, 335, [
        180, 180, 180, 180, 180, 180, 270, 90, 180, 180, 180, 180, 180, 180, 180, 180, 180
    ])
    level1_3 = Level(2.75, 335, [
        180, 180, 180, 180, 180, 180, 90, 270, 180, 180, 180, 180, 180, 180, 180, 180, 180
    ])
    level1_4 = Level(2.75, 335, [
        180, 180, 180, 180, 180, 180, 90, 270, 180, 180, 180, 180, 180, 180, 270, 90, 180
    ])
    level1_5 = Level(2.75, 335, [
        180, 180, 180, 180, 90, 270, 90, 270, 180, 180, 180, 180, 90, 270, 90, 270, 180
    ])
    level1_6 = Level(2.75, 340, [
        180, 180, 180, 180, 270, 90, 270, 90, 180, 180, 180, 180, (180, 0.5), 180, 180
    ])
    level1_x = Level(2.3, 452, [
        180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180,
        180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 270, 90, 180, 180, 180, 180, 180, 180,
        180, 180, 180, 180, 180, 180, 180, 180, 270, 90, 180, 180, 180, 180, 180, 180, 180, 180, 180,
        180, 180, 180, 180, 180, 270, 90, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180,
        180, 180, 90, 270, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 90,
        270, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 90, 270, 90, 270, 180, 180,
        180, 180, 180, 180, 180, 180, 270, 90, 270, 90, 270, 90, 270, 90, 180, 180, 180, 180, 180, 180,
        180, 180, 180, 180, 180, 180, 90, 270, 90, 270, 180, 180, 180, 180, 180, 180, 180, 180, 270, 90,
        270, 90, 180, 180, 90, 270, (180, 0.25), 180, 180, 180, 180, 180, 180
    ])

    level2_1 = Level(2.8, 321, [
        180, 180, 180, 270, 180, 180, 180, 90, 180, 180, 180, 180, 180
    ])
    level2_2 = Level(2.8, 321, [
        180, 180, 180, 180, 90, 180, 180, 270, 180, 180, 180, 180, 180
    ])
    level2_3 = Level(3.2, 288, [
        90, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 90, 180
    ])
    level2_x = Level(2.1, 480, [
        180, 180, 180, 270, 180, 180, 180, 90, 180, 180, 180, 270, 180, 180, 180, 90, 180, 180, 180, 270,
        180, 180, 180, 90, 180, 180, 180, 180, 90, 180, 180, 270, 180, 180, 180, 270, 180, 180, 180, 90,
        180, 180, 180, 270, 180, 180, 180, 90, 180, 180, 180, 270, 180, 180, 180, 90, 180, 180, 180, 90,
        180, 180, 180, 270, (180, 0.25), 180, 180, 180, (180, 2), 180, 180, 180, (180, 2.01), 180, 180, 180,
        180, 180, 180, 180, 90, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180,
        180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 90, 180, 180, 180,
        270, 180, 180, 180, 90, 180, 180, 180, 270, 180, 180, 180, 90, 180, 180, 180, 270, 180, 180, 180,
        90, 180, 180, 180, 180, 90, 180, 180, 180
    ])

    level3_1 = Level(2.3, 420, [
        180, 180, 180, 180, 270, 270, 180, 180, 180, 180, 180, 90, 90, 180, 180, 180, 180
    ])
    level3_2 = Level(2.3, 420, [
        180, 180, 180, 180, 90, 90, 180, 180, 180, 180, 180, 180, 180, 270, 270, 180, 180
    ])
    level3_3 = Level(2.2, 450, [
        180, 180, 180, 180, 270, 270, 90, 90, 180, 180, 180, 90, 90, 270, 270, 180, 180, 180, 180, 180,
        270, 270, 90, 90, 180, 180, 180, 90, 90, 270, 270, 180, 180, 180, 180, 180, 180
    ])
    level3_4 = Level(2.2, 450, [
        180, 180, 180, 180, 270, 270, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90,
        180, 180, 180, 180, 180,
    ])
    level3_5 = Level(2.1, 480, [
        180, 180, 180, 180, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90, 270, 270, 180
    ])
    level3_6 = Level(2.1, 480, [
        180, 180, 90, 270, 180, 270, 270, 90, 90, 180, 90, 270, 180, 270, 270, 90, 90, 180, 90,
        270, 180, 270, 270, 180
    ])
    level3_x = Level(1.96, 542.2, [
        180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 270, 270, 180, 180, 180, 180, 180, 180, 180,
        90, 90, 180, 180, 180, 180, 180, 180, 180, 180, 180, 270, 270, 90, 90, 270, 270, 90, 90, 270, 270, 90,
        90, 180, 180, 180, 180, 270, 270, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90, 180, 180, 180, 180, 90,
        270, 270, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90, 270, 270, 90,
        90, 270, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 270, 270, 90, 90, 180, 180, 180, 180,
        270, 270, 90, 90, 180, 180, 180, 180, 270, 270, 90, 90, 180, 180, 180, 180, 270, 270, 90, 90, 180, 90,
        270, 180, 270, 270, 90, 90, 180, 90, 270, 180, 270, 270, 90, 90, 180, 90, 270, 180, 270, 270, 90, 90,
        180, 90, 270, 180, 270, 270, 180
    ])

    level4_1 = Level(3.5, 255, [
        180, 180, 120, 240, 180, 180, 120, 240, 180
    ])
    level4_2 = Level(3.5, 249, [
        120, 120, 270, 180, 120, 120, 270, 180, 180
    ])
    level4_3 = Level(3.5, 246, [
        120, 120, 90, 180, (180, -1), 240, 240, 270, 180, (180, -1), 120, 120, 90, 90, 90, 180, 180
    ])
    level4_4 = Level(3.5, 255, [
        180, 180, 60, 60, 60, 180, 180, 180, 60, 60, 60, 180, 180
    ])
    level4_5 = Level(3.5, 249, [
        180, 180, 60, 60, 120, 90, 180, 180, 60, 60, 120, 90, 180
    ])
    level4_x = Level(3.5, 255, [
        120, 240, 180, 180, 120, 240, 180, 180, 120, 240, 180, 180, 120, 240, 180, 180, 120,
        120, 270, (180, 0.97), 120, 120, 270, (180, 0.98), 120, 120, 270, 180, 120, 120, 270,
        180, 180, 120, 120, 90, 180, (180, -1), 240, 240, 270, 180, (180, -1), 120, 120, 90,
        180, (180, -1.03), 240, 240, 270, 180, (180, -1), 120, 120, 90, 180, (180, -1), 240,
        240, 270, 180, (180, -0.97), 120, 120, 90, 180, (180, -1), 240, 240, 90,
        (180, 1.02), 300, 300, 240, 270, 180, 180, 300, 300, 240, 270, 180,
        (180, 0.98), 300, 300, 240, 270, 180, 180, 300, 300, 240, 270, 180,
        180, 300, 300, 240, 270, 180, (180, 1.02), 300, 300, 240, 270, 180,
        180, 300, 300, 240, 270, 180, 180, 300, 300, 240, 270, 180,
        (180, 0.26), 180, 180, 180, (90, 2), 260, 90, 270, 180, 180,
        (180, 2), 180, 180, 180, (180, 0.97), 240, 120, 180, 180, 240, 240, 270, 180,
        (180, -0.98), 120, 120, 90, 180, (180, -1), 240, 240, 270, 270, 270, 180,
        240, 120, 180, (180, 1.04), 240, 120, 180, 180, 240, 240, 270, 180,
        (180, -1), 120, 240, 90, 90, 180
    ])

    level5_1 = Level(3.1, 288, [
        180, 180, 180, 120, 240, 180, 180, 180, 180
    ])
    level5_2 = Level(3.1, 288, [
        180, 180, 180, 120, 180, 240, 180, 180, 180, 180
    ])
    level5_3 = Level(2.7, 324, [
        180, 180, 180, 300, 180, 60, 180, 180, 180, 180
    ])
    level5_4 = Level(2.3, 420, [
        180, 180, 180, 120, 60, 120, 180, 60, 180, 180,
        180, 120, 60, 120, 180, 60, 180, 180,
        180, 120, 60, 120, 180, 60, 180
    ])
    level5_x = Level(2.1, 512, [
        180, 180, 180, 120, 180, 240, 180, 180, 120, 180, 240, 180,
        180, 120, 180, 240, 180, 180, 120, 240, 180, 180,
        180, 120, 180, 240, 180, 180, 120, 180, 240, 180,
        180, 120, 180, 240, 180, 180, 300, 60, 180, 180,
        180, 120, 180, 240, 180, 180, 120, 180, 240, 180,
        180, 120, 180, 240, 180, 180, 300, 60, 180, 180,
        180, 180, 180, 180, 180, 180, 300, 180, 60, 180,
        180, 180, 120, 180, 240, 180, 180, 120, 180, 240, 180,
        180, 120, 180, 240, 180, 180, 120, 240, 180, 180,
        180, 120, 180, 240, 180, 180, 300, 60, 180, 180,
        180, 120, 180, 240, 180, 180, 300, 60, 180, 180,
        180, 120, 180, 240, 180, 180, 120, 180, 240, 180,
        180, 120, 180, 240, 180, 180, 120, 60, 120, 180, 60, 180,
        180, 180, 180, 180, 180, 180, 180, 300, 180, 60, 180, 180,
        180, 120, 180, 240, 180, 180, 120, 180, 240, 180,
        180, 120, 180, 240, 180, 180, 120, 180
    ])

    level6_1 = Level(2.3, 420, [
        180, 180, 90, 90, 90, 180, 180, 90, 180, 180, 90, 90, 90, 180, 180, 90, 180
    ])
    level6_2 = Level(2.3, 420, [
        180, 180, 90, 90, 270, 180, 180, 90, 180, 180, 90, 90, 270, 180, 270, 180, 180
    ])
    level6_3 = Level(2.3, 420, [
        180, 180, 90, 90, 270, 180, 270, 180, 180, 90, 90, 270, 180, 270, 180,
        180, 90, 90, 270, 180, 270, 180
    ])
    level6_4 = Level(2.1, 500, [
        270, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90, 270, 90, 90, 270, 180, 270,
        270, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90, 270, 90, 90, 270, 180, 270, 180
    ])
    level6_x = Level(2, 527, [
        180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180,
        180, 90, 90, 90, 90, 180, 180, 180, 180, 180, 180, 180, 180, 90, 90, 270, 180, 270, 180,
        180, 90, 90, 270, 180, 270, 180, 180, 90, 90, 270, 180, 270, 180, 180, 90, 90, 270, 180,
        270, 180, 180, 90, 90, 270, 180, 270, 180, 180, 90, 90, 270, 180, 270, 180, 180, 90, 90,
        270, 180, 270, 180, 180, 90, 90, 270, 180, 180, 90, 180, 180, 90, 90, 270, 180, 270, 180,
        180, 90, 90, 270, 180, 270, 180, 180, 90, 90, 270, 180, 270, 180, 180, 90, 90, 270, 180,
        270, 180, 270, 90, 270, 90, 270, 90, 270, 90, 270, 90, 270, 90, 270, 90, 270, 90, 180,
        90, 90, 270, 180, 270, 180, 180, 90, 90, 270, 180, 270, 180, 90, 270, 90, 270, 90, 270,
        90, 270, 90, 270, 90, 270, 90, 270, 90, 270, 180, 90, 90, 270, 180, 270, 180, 180, 90, 90,
        270, 180, 270, 180, (180, 0.5), 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180, 180,
        180, 180, 180, (180, 2), 90, 180, 180, 180, 180, 270, 180, 180, 90, 180, 180, 180, 180, 180,
        90, 90, 90, 180, 90, 180, 180, 180, 180, 270, 180, 180, 90, 180, 180, 180, 180, 180, 90, 90,
        90, 180, 180, 90, 270, 180, 180, 90, 270, 180, 180, 90, 270, 180, 180, 90, 270, 180, 180, 90,
        270, 180, 180, 90, 270, 180, 180, 90, 180, 270, 180, 180, 270, 90, 90, 270, 270, 90, 90, 270,
        270, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90, 270, 270, 90, 90, 270, 90, 90, 270, 180, 270,
        180, 180, 180, 90, 90, 270, 180, 270, 180, 180, 90, 90, 270, 180, 270, 180, 180, 90, 90, 270,
        180, 270, 180, 180, 90, 90, 270, 180, 270, 180, 180, 90, 90, 270, 180, 270, 180, 180, 90, 90,
        90, 180, 180, 180, 90, 180, 180, 90, 90, 90, 180, 180, 180, 90, 180, 180, 90, 90, 90, 180,
        180, 180, 90, 180, 180, 90, 90, 270, 180, 270, 180, 180
    ])

    level7_1 = Level(2.4, 426, [
        270, 270, (90, -1), 90, 180, 180, (270, -1), 270, (90, -1), 90, 180, 180, (270, -1),
        270, (90, -1), 90, 180, 180, 180
    ])
    level7_2 = Level(2.4, 425, [
        270, 270, (90, -1), 90, 180, 270, 270, 90, 90, (270, -1), 270, 180, 90, 90, 270, 270, (90, -1),
        90, 180, 270, 270, 90, 90, (270, -1), 270, 180
    ])
    level7_3 = Level(2.2, 450, [
        180, 180, 180, 90, 90, 90, 90, 180, 180, 180, 270, 270, 270, 270, 180, 180, 180, 90, 90, 90, 90,
        180, 180, 180, 270, 270, 270, 270, 180, 180, 180
    ])
    level7_4 = Level(2.1, 480, [
        180, 90, 90, 90, 90, 180, 180, 90, 180, 180, 90, 90, 90, 90, 180, 180, 90,
        180, 180, 90, 90, 90, 90, 180, 180, 90, 180, 180, 90, 90, 90, 90, 180, 180
    ])
    level7_5 = Level(2.1, 480, [
        180, 180, 90, 90, 90, 90, 90, 180, 180, 180, 90, 90, 90, 90, 90, 180, 180, 180, 90, 90, 90, 90, 90, 180, 180, 180
    ])
    level7_x = Level(2.1, 481, [
        270, 270, (90, -1), 90, 180, 180, (270, -1), 270, (90, -1), 90, 180,
        180, (270, -1), 270, (90, -1), 90, 180, 270, 270, 90, 90, (270, -1), 270, 90, 270,
        180, 180, 180, 180, 180, 180, 270, 270, 270, 270,
        180, 180, 180, 180, 180, 180, 270, 270, 270, 270,
        180, 180, 180, 90, 90, 90, 90,
        180, 180, 180, 90, 90, 90, 90,
        180, 180, 180, 90, 180, 180, 90,
        180, 180, 180, (180, 0.333333), (180, 3), 180, 180, 180, 180, 180, 270, 270, (90, -1), 90,
        180, 180, 180, 180, 180, 180, (270, -1), 270, (90, -1), 90,
        180, 270, 270, 270, 270, 180, 180, 180,
        180, 270, 270, 270, 270, 180, 180,
        180, 270, 270, 270, 270, 270, 180, 180,
        180, 270, 270, 270, 270, 180, 270, (180, 0.3333333), (90, 3), 90, (270, -1), 270,
        (180, 1.005), 90, 90, 270, 270, (90, -1), 90,
        180, 270, 270, 90, 90, (270, -1), 270,
        180, 90, 90, 270, 270, (90, -1), 90,
        270, 90, (270, -1), 270, (90, -1), 90,
        180, 270, 270, 90, 90, (270, -1), 270,
        180, 90, 90, 270, 270, (90, -1), 90,
        180, 270, 270, 90, 90, (270, -1), 270, 180,
        180, 270, 270, 270, 180, 180, 270, 270, 270, 270, 180, 270,
        180, 180, 180, 270, 270, (90, -1), 90, (270, -1), 270, 180,
    ])

    level8_1 = Level(2.5, 390, [
        120, 180, 180, 180, 180, 240, 180, 180, 120, 180, 180, 180, 180, 240, 180, 180, 180
    ])
    level8_2 = Level(2.5, 390, [
        120, 180, 180, 180, 180, 180, 180, 60, 120, 60, 120, 180, 180, 180, 180,
        180, 180, 60, 120, 60, 120, 180, 180, 180, 180, 60, 120, 60, 180, 180, 180
    ])
    level8_3 = Level(2.25, 450, [
        300, 60, 180, 300, 60, 180, 180, 180,
        300, 60, 180, 300, 60, 180, 180, 180,
    ])

    level8_3.run()
